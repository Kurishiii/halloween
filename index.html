<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halloween Costume Contest Voting ðŸŽƒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400&display=swap" rel="stylesheet">

    <!-- ðŸ”® SOCIAL CARD META TAGS -->
    <meta property="og:title" content="Halloween Costume Contest ðŸŽƒ" />
    <meta property="og:description" content="Vote for your favorite costume and leave a secret message for the judges ðŸ‘»" />
    <meta property="og:image" content="https://kurishiii.github.io/halloween/img/social-card.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kurishiii.github.io/halloween/" />

    <style>
        /* GLOBAL STYLES */
        body {
            font-family: 'Cinzel', serif;
            background: linear-gradient(135deg, #000000, #1a0000, #000000);
            background-size: 400% 400%;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 0;
            animation: bgGlow 10s ease infinite;
            overflow-x: hidden;
        }

        @keyframes bgGlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* HEADER */
        h1 {
            font-size: 3.0em;
            color: #ff1a1a;
            text-shadow: 0 0 10px #ff0000, 0 0 20px #800000, 0 0 40px #ff0000;
            margin-top: 50px;
            animation: flicker 3s infinite;
        }

        @keyframes flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% {
                opacity: 1;
            }
            20%, 24%, 55% {
                opacity: 0.3;
            }
        }

        p {
            font-size: 1.3em;
            color: #ccc;
            text-transform: lowercase;
            margin-bottom: 40px;
        }

        /* FORM BOX */
        form {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid rgba(255, 0, 0, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
            display: inline-block;
            padding: 40px 30px;
            width: 90%;
            max-width: 600px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        form:hover {
            transform: scale(1.03);
            box-shadow: 0 0 40px rgba(255, 0, 0, 0.9);
        }

        label {
            display: block;
            text-align: left;
            color: #ffcccc;
            margin-top: 15px;
            font-size: 1.1em;
        }

        input, textarea {
            width: calc(100% - 20px);
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ff0000;
            border-radius: 5px;
            background-color: #111;
            color: #fff;
            font-size: 1em;
            box-shadow: inset 0 0 5px #ff0000;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus {
            outline: none;
            box-shadow: 0 0 10px #ff0000, inset 0 0 10px #ff0000;
        }

        button {
            background-color: #800000;
            color: #fff;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            margin-top: 15px;
            text-transform: uppercase;
            box-shadow: 0 0 10px #ff0000;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #a00000;
            box-shadow: 0 0 25px #ff0000, inset 0 0 5px #800000;
            transform: scale(1.05);
        }

        #confirmation {
            margin-top: 25px;
            font-size: 1.5em;
            text-shadow: 0 0 10px #00ff00;
        }

        /* QR CODE SECTION */
        .qr-code {
            margin-top: 50px;
        }

        .qr-code img {
            border: 3px solid #ff0000;
            border-radius: 10px;
            box-shadow: 0 0 20px #ff0000;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .qr-code img:hover {
            transform: scale(1.1);
            box-shadow: 0 0 40px #ff0000;
        }

        .qr-code h2, .qr-code h3 {
            color: #ff6666;
            text-shadow: 0 0 10px #ff0000;
        }

        /* FLOATING BATS */
        .bat {
            position: fixed;
            width: 40px;
            opacity: 0.8;
            animation: fly 20s linear infinite;
            z-index: -1;
            pointer-events: none; /* prevents clicking */
        }

        /* Positions and delays for variety */
        .bat:nth-child(1)  { top: 5%;  left: -10%; animation-delay: 0s; }
        .bat:nth-child(2)  { top: 15%; left: -20%; animation-delay: 3s; }
        .bat:nth-child(3)  { top: 25%; left: -30%; animation-delay: 6s; }
        .bat:nth-child(4)  { top: 40%; left: -25%; animation-delay: 8s; }
        .bat:nth-child(5)  { top: 50%; left: -15%; animation-delay: 10s; }
        .bat:nth-child(6)  { top: 60%; left: -35%; animation-delay: 12s; }
        .bat:nth-child(7)  { top: 70%; left: -10%; animation-delay: 15s; }
        .bat:nth-child(8)  { top: 80%; left: -20%; animation-delay: 18s; }
        .bat:nth-child(9)  { top: 30%; left: -40%; animation-delay: 20s; }
        .bat:nth-child(10) { top: 90%; left: -25%; animation-delay: 22s; }

        @keyframes fly {
            0%   { transform: translateX(0) rotate(0deg); opacity: 0.6; }
            50%  { transform: translateX(110vw) translateY(-40px) rotate(15deg); opacity: 1; }
            100% { transform: translateX(220vw) rotate(-10deg); opacity: 0.7; }
        }

        /* MOBILE RESPONSIVE */
        @media (max-width: 600px) {
            h1 { font-size: 2.2em; }
            form { padding: 25px; }
        }
    </style>
    <script>
        async function handleSubmit(event) {
            event.preventDefault();

            const confirmationElement = document.getElementById('confirmation');
            if (localStorage.hasVoted2025) {
                confirmationElement.innerText = 'you have already voted!';
                confirmationElement.style.color = 'red';
                return;
            }

            const name = document.getElementById('name').value.trim();
            const comment = document.getElementById('comment').value.trim();

            if (!name || !comment) {
                confirmationElement.innerText = 'please fill out both fields!';
                confirmationElement.style.color = 'yellow';
                return;
            }

            try {
                const response = await fetch('https://script.google.com/macros/s/AKfycbzl1uLlDDTTWUR0tZC1m6tiornLUwTXnttg95N53BPdt5DYKo8VOxGXzwh3fp2CKWc6/exec', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: new URLSearchParams({ name, comment })
                });

                if (response.ok) {
                    localStorage.hasVoted2025 = 1;
                    confirmationElement.innerText = 'vote sent âœ…';
                    confirmationElement.style.color = '#00ff00';
                } else {
                    throw new Error('Network error');
                }
            } catch (err) {
                confirmationElement.innerText = 'error sending vote. please try again.';
                confirmationElement.style.color = 'orange';
            }
        }
    </script>
</head>
<body>

    <!-- Flying bats -->
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">
    <img src="img/spooky.png" class="bat" alt="bat">

    <h1>ðŸ‘»Vote for Your Favorite Halloween Costume!ðŸŽƒ</h1>
    <p>choose your best costume winner!</p>

    <form onsubmit="handleSubmit(event)">
        <label for="name">who are you voting for? (describe their costume):</label>
        <input type="text" id="name" name="name" required>

        <label for="comment">tell jules, christian, and gwen a secret message (we'll keep it ;) ):</label>
        <input type="text" id="comment" name="comment" required>

        <button type="submit">submit!</button>
    </form>

    <div id="confirmation"></div>

    <div class="qr-code">
        <h2>share us your pov tn ðŸ“·, click below</h2>
        <a target="_blank" href="https://pov.camera/qr/99B156CF-70CB-49C6-BE62-0207CA313BE7">
            <img src="img/pov.webp" alt="qr code" width="150" height="250">
        </a>
        <h3>thank you! ðŸ‘€</h3>
    </div>

</body>
</html>
